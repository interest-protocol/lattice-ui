@import "tailwindcss";

@theme {
  --font-sans: "DM Sans", serif;
  --font-mono: "JetBrains Mono", monospace;

  /* Accent: violet-400 base (dark), violet-600 base (light override below) */
  --color-accent: #a78bfa;
  --color-accent-hover: #c4b5fd;
  --color-accent-muted: #a78bfa80;
  --color-accent-subtle: #a78bfa33;
  --color-accent-wash: #a78bfa14;
  --color-accent-border: #a78bfa4d;

  /* Secondary accent: cyan (spark) */
  --color-accent-secondary: #06b6d4;
  --color-accent-secondary-muted: #06b6d440;

  /* Focus ring */
  --color-focus-ring: #a78bfa;

  /* Layered surfaces — deeper for more contrast */
  --color-surface: #080b14;
  --color-surface-raised: #0f1629;
  --color-surface-overlay: #161e35;
  --color-surface-inset: #060912;

  /* White-alpha surface modifiers — slightly increased for visible glass */
  --color-surface-light: #ffffff08;
  --color-surface-lighter: #ffffff12;
  --color-surface-hover: #ffffff1e;
  --color-surface-border: #ffffff12;
  --color-surface-border-hover: #ffffff28;

  /* Text */
  --color-text: #f0f0f5;
  --color-text-secondary: #9ca3b4;
  --color-text-muted: #6b7280;
  --color-text-dimmed: #404759;
  --color-text-dim: #ffffff0a;

  /* Status */
  --color-success: #22c55e;
  --color-error: #ef4444;
  --color-warning: #f59e0b;

  /* Component: Toast */
  --color-toast-bg: #111827;
  --color-toast-border: #ffffff0d;
  --color-toast-success: #00df80;
  --color-toast-error: #f04248;

  /* Component: Modal */
  --color-modal-border: #ffffff0d;
  --color-overlay-bg: rgba(0, 0, 0, 0.7);

  /* Component: Footer */
  --color-footer-bg: rgba(8, 11, 20, 0.6);

  /* Component: Header */
  --color-header-border: #ffffff08;
  --color-header-bg: rgba(8, 11, 20, 0.6);

  /* Component: Toggle */
  --color-toggle-inactive: #ffffff14;
  --color-toggle-thumb: #ffffff;
  --color-toggle-thumb-disabled: #d0d0d0;

  /* Component: Tooltip */
  --color-tooltip-text: #ffffff;

  /* Component: Skeleton */
  --color-skeleton-base: #ffffff0d;
  --color-skeleton-highlight: #ffffff1a;

  /* Component: Scrollbar */
  --color-scrollbar-track: rgba(0, 0, 0, 0.47);
  --color-scrollbar-track-hover: rgba(0, 0, 0, 0.2);
  --color-scrollbar-thumb: #888;

  /* Component: Warning/Error */
  --color-warning-bg: #f59e0b1a;
  --color-warning-border: #f59e0b4d;
  --color-error-wash: #ef44441a;
}

@layer base {
  :root {
    /* Blur scale */
    --blur-sm: 8px;
    --blur-md: 12px;
    --blur-lg: 24px;
    --blur-xl: 50px;

    /* Complex tokens: gradients, shadows */
    --toast-shadow: 0 16px 48px rgba(0, 0, 0, 0.4);
    --toast-success-glow: 0 0 5rem 1rem #00df80, inset 0 0 1rem 1rem #2c4a47;
    --toast-error-glow: 0 0 5rem 1rem #f04248, inset 0 0 1rem 1rem #463846;

    /* Enhanced modal glass */
    --modal-bg: linear-gradient(
      135deg,
      rgba(255, 255, 255, 0.08) 0%,
      rgba(255, 255, 255, 0.03) 50%,
      rgba(167, 139, 250, 0.06) 100%
    );
    --modal-shadow:
      0 1px 0 0 rgba(255, 255, 255, 0.08) inset, 0 32px 80px rgba(0, 0, 0, 0.65);

    --settings-shadow: 0 16px 48px rgba(0, 0, 0, 0.5);

    /* Button glow system — violet → cyan aurora gradient */
    --btn-primary-bg: linear-gradient(
      135deg,
      #a78bfa 0%,
      #8b5cf6 40%,
      #06b6d4 100%
    );
    --btn-primary-shadow:
      0 0 20px rgba(167, 139, 250, 0.25), 0 0 60px rgba(6, 182, 212, 0.1);
    --btn-primary-hover-shadow:
      0 0 24px rgba(167, 139, 250, 0.4), 0 0 80px rgba(6, 182, 212, 0.15),
      0 4px 16px rgba(0, 0, 0, 0.3);

    /* Input focus glow */
    --input-focus-glow:
      0 0 0 3px rgba(167, 139, 250, 0.15), 0 0 20px rgba(167, 139, 250, 0.08);

    /* Swap button glow */
    --swap-btn-glow: 0 0 20px rgba(167, 139, 250, 0.2);

    /* Swap card glass */
    --swap-card-bg: linear-gradient(
      165deg,
      rgba(255, 255, 255, 0.07) 0%,
      rgba(255, 255, 255, 0.02) 40%,
      rgba(167, 139, 250, 0.05) 80%,
      rgba(6, 182, 212, 0.03) 100%
    );
    --swap-card-shadow:
      0 1px 0 0 rgba(255, 255, 255, 0.08) inset, 0 -1px 0 0 rgba(
        255,
        255,
        255,
        0.02
      ) inset, 0 16px 64px -12px rgba(0, 0, 0, 0.65), 0 0 0 1px rgba(
        255,
        255,
        255,
        0.05
      ) inset;
    --swap-card-border: rgba(255, 255, 255, 0.08);

    /* Swap input backgrounds */
    --input-from-bg: rgba(255, 255, 255, 0.04);
    --input-to-bg: rgba(0, 0, 0, 0.15);
    --input-hover-bg: rgba(255, 255, 255, 0.06);

    /* Token pill selector */
    --token-pill-bg: rgba(255, 255, 255, 0.08);
    --token-pill-hover-bg: rgba(255, 255, 255, 0.14);
    --token-pill-border: rgba(255, 255, 255, 0.1);
    --token-pill-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);

    /* Flip button */
    --flip-btn-bg: linear-gradient(
      135deg,
      rgba(255, 255, 255, 0.1) 0%,
      rgba(167, 139, 250, 0.08) 100%
    );
    --flip-btn-border: rgba(255, 255, 255, 0.12);
    --flip-btn-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    --flip-btn-hover-shadow:
      0 0 20px rgba(167, 139, 250, 0.25), 0 4px 16px rgba(0, 0, 0, 0.3);

    /* CTA glow */
    --cta-idle-glow:
      0 0 30px rgba(167, 139, 250, 0.15), 0 0 80px rgba(6, 182, 212, 0.06);
    --cta-hover-glow:
      0 0 32px rgba(167, 139, 250, 0.45), 0 0 100px rgba(6, 182, 212, 0.2),
      0 6px 24px rgba(0, 0, 0, 0.35);

    /* Details panel */
    --details-bg: rgba(255, 255, 255, 0.03);
    --details-border: rgba(255, 255, 255, 0.06);
    --details-divider: rgba(255, 255, 255, 0.06);

    /* Enhanced card glass */
    --card-bg: linear-gradient(
      135deg,
      rgba(255, 255, 255, 0.06) 0%,
      rgba(167, 139, 250, 0.03) 50%,
      rgba(167, 139, 250, 0.04) 100%
    );
    --card-shadow:
      0 1px 0 0 rgba(255, 255, 255, 0.06) inset,
      0 8px 32px 0 rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(255, 255, 255, 0.04) inset;
    --card-backdrop: blur(24px) saturate(1.5);

    /* Toggle depth tokens */
    --toggle-track-inset-shadow:
      inset 0 2px 4px rgba(0, 0, 0, 0.35), inset 0 1px 2px rgba(0, 0, 0, 0.25);
    --toggle-track-active-bg: linear-gradient(
      135deg,
      #a78bfa 0%,
      #8b5cf6 50%,
      #06b6d4 100%
    );
    --toggle-track-active-shadow:
      inset 0 2px 4px rgba(0, 0, 0, 0.2), 0 0 12px rgba(167, 139, 250, 0.25),
      0 0 4px rgba(167, 139, 250, 0.15);
    --toggle-thumb-shadow:
      0 1px 3px rgba(0, 0, 0, 0.3), 0 2px 6px rgba(0, 0, 0, 0.15),
      0 0 0 0.5px rgba(255, 255, 255, 0.1);
    --toggle-thumb-highlight: inset 0 1px 0 0 rgba(255, 255, 255, 0.5);

    /* Toast glass tokens */
    --toast-glass-bg: linear-gradient(
      135deg,
      rgba(17, 24, 39, 0.95) 0%,
      rgba(17, 24, 39, 0.88) 50%,
      rgba(167, 139, 250, 0.04) 100%
    );
    --toast-inner-highlight: 0 1px 0 0 rgba(255, 255, 255, 0.06) inset;
    --toast-icon-success-bg: rgba(0, 223, 128, 0.12);
    --toast-icon-success-border: rgba(0, 223, 128, 0.25);
    --toast-icon-error-bg: rgba(240, 66, 72, 0.12);
    --toast-icon-error-border: rgba(240, 66, 72, 0.25);
    --toast-icon-loading-bg: rgba(167, 139, 250, 0.12);
    --toast-icon-loading-border: rgba(167, 139, 250, 0.25);

    --tooltip-shadow: 0 8px 24px rgba(0, 0, 0, 0.5);
    --bg-blur:
      radial-gradient(ellipse at 50% 0%, #a78bfa08 0%, transparent 60%),
      linear-gradient(180deg, rgba(8, 11, 20, 0.75), rgba(8, 11, 20, 0.95));

    /* Particle system */
    --particle-1: rgba(167, 139, 250, 0.6);
    --particle-2: rgba(196, 181, 253, 0.5);
    --particle-3: rgba(221, 214, 254, 0.4);
    --particle-4: rgba(139, 92, 246, 0.5);
    --particle-5: rgba(237, 233, 254, 0.3);
    --particle-stroke-rgb: 167, 139, 250;
  }

  html {
    background: var(--color-surface);
    scrollbar-width: thin;
    scrollbar-color: var(--color-scrollbar-thumb) var(--color-scrollbar-track);
  }

  body,
  html {
    overflow-x: hidden;
  }

  /* ─── Light theme ─── */
  [data-theme="light"] {
    --color-accent: #7c3aed;
    --color-accent-hover: #6d28d9;
    --color-accent-muted: #7c3aed80;
    --color-accent-subtle: #7c3aed66;
    --color-accent-wash: #7c3aed3d;
    --color-accent-border: #7c3aed66;

    --color-accent-secondary: #0891b2;
    --color-accent-secondary-muted: #0891b255;

    --color-focus-ring: #7c3aed;

    --color-surface: #f0f4f8;
    --color-surface-raised: #ffffff;
    --color-surface-overlay: #f7f8fb;
    --color-surface-inset: #e8edf4;

    --color-surface-light: #7c3aed08;
    --color-surface-lighter: #7c3aed0e;
    --color-surface-hover: #7c3aed18;
    --color-surface-border: #7c3aed22;
    --color-surface-border-hover: #7c3aed3d;

    --color-text: #0f172a;
    --color-text-secondary: #475569;
    --color-text-muted: #64748b;
    --color-text-dimmed: #94a3b8;
    --color-text-dim: #0000000a;

    --color-toast-bg: #ffffff;
    --color-toast-border: #7c3aed22;
    --color-toast-success: #16a34a;
    --color-toast-error: #dc2626;

    --color-modal-border: #7c3aed28;
    --color-overlay-bg: rgba(15, 23, 42, 0.3);

    --color-footer-bg: rgba(255, 255, 255, 0.7);
    --color-header-bg: rgba(255, 255, 255, 0.7);
    --color-header-border: #7c3aed1a;

    --color-toggle-inactive: #0000002a;
    --color-toggle-thumb: #ffffff;
    --color-toggle-thumb-disabled: #a0a0a0;

    --color-tooltip-text: #0f172a;

    --color-skeleton-base: #7c3aed0d;
    --color-skeleton-highlight: #7c3aed1a;

    --color-scrollbar-track: rgba(0, 0, 0, 0.06);
    --color-scrollbar-track-hover: rgba(0, 0, 0, 0.1);
    --color-scrollbar-thumb: #999;

    --color-warning-bg: #fef3c7;
    --color-warning-border: #f59e0b4d;
    --color-error-wash: #fef2f2;

    /* Complex tokens (light) */
    --toast-shadow:
      0 0 0 1px rgba(124, 58, 237, 0.08), 0 16px 48px rgba(0, 0, 0, 0.12),
      0 4px 16px rgba(124, 58, 237, 0.06);
    --toast-success-glow:
      0 0 4rem 0.5rem #16a34a30, inset 0 0 0.75rem 0.75rem #dcfce7;
    --toast-error-glow:
      0 0 4rem 0.5rem #dc262630, inset 0 0 0.75rem 0.75rem #fef2f2;
    --modal-bg: linear-gradient(
      135deg,
      rgba(255, 255, 255, 0.85) 0%,
      rgba(255, 255, 255, 0.78) 50%,
      rgba(196, 167, 254, 0.12) 100%
    );
    --modal-shadow:
      0 0 0 1px rgba(124, 58, 237, 0.1), 0 24px 64px rgba(0, 0, 0, 0.12),
      0 8px 24px rgba(124, 58, 237, 0.08);
    --settings-shadow:
      0 0 0 1px rgba(124, 58, 237, 0.08), 0 16px 48px rgba(0, 0, 0, 0.14),
      0 4px 16px rgba(124, 58, 237, 0.06);
    --btn-primary-bg: linear-gradient(
      135deg,
      #7c3aed 0%,
      #6d28d9 40%,
      #0891b2 100%
    );
    --btn-primary-shadow:
      0 0 20px rgba(124, 58, 237, 0.3), 0 0 60px rgba(8, 145, 178, 0.14),
      0 4px 12px rgba(0, 0, 0, 0.08);
    --btn-primary-hover-shadow:
      0 0 28px rgba(124, 58, 237, 0.45), 0 0 80px rgba(8, 145, 178, 0.2),
      0 6px 20px rgba(0, 0, 0, 0.12);
    --input-focus-glow:
      0 0 0 3px rgba(124, 58, 237, 0.2), 0 0 20px rgba(124, 58, 237, 0.12);
    --swap-btn-glow: 0 0 24px rgba(124, 58, 237, 0.3);

    /* Swap card glass (light) */
    --swap-card-bg: linear-gradient(
      165deg,
      rgba(255, 255, 255, 0.88) 0%,
      rgba(255, 255, 255, 0.78) 40%,
      rgba(124, 58, 237, 0.04) 80%,
      rgba(8, 145, 178, 0.02) 100%
    );
    --swap-card-shadow:
      0 0 0 1px rgba(124, 58, 237, 0.06), 0 1px 3px 0 rgba(0, 0, 0, 0.04), 0 16px 64px -12px rgba(
        124,
        58,
        237,
        0.1
      ), 0 24px 56px -16px rgba(0, 0, 0, 0.06);
    --swap-card-border: rgba(124, 58, 237, 0.1);

    --input-from-bg: rgba(124, 58, 237, 0.03);
    --input-to-bg: rgba(0, 0, 0, 0.02);
    --input-hover-bg: rgba(124, 58, 237, 0.06);

    --token-pill-bg: rgba(124, 58, 237, 0.06);
    --token-pill-hover-bg: rgba(124, 58, 237, 0.12);
    --token-pill-border: rgba(124, 58, 237, 0.12);
    --token-pill-shadow: 0 2px 8px rgba(124, 58, 237, 0.08);

    --flip-btn-bg: linear-gradient(
      135deg,
      rgba(124, 58, 237, 0.08) 0%,
      rgba(124, 58, 237, 0.04) 100%
    );
    --flip-btn-border: rgba(124, 58, 237, 0.2);
    --flip-btn-shadow: 0 4px 12px rgba(124, 58, 237, 0.12);
    --flip-btn-hover-shadow:
      0 0 20px rgba(124, 58, 237, 0.25), 0 4px 16px rgba(0, 0, 0, 0.08);

    --cta-idle-glow:
      0 0 30px rgba(124, 58, 237, 0.2), 0 0 80px rgba(8, 145, 178, 0.08);
    --cta-hover-glow:
      0 0 32px rgba(124, 58, 237, 0.5), 0 0 100px rgba(8, 145, 178, 0.25),
      0 6px 24px rgba(0, 0, 0, 0.1);

    --details-bg: rgba(124, 58, 237, 0.02);
    --details-border: rgba(124, 58, 237, 0.08);
    --details-divider: rgba(124, 58, 237, 0.06);

    --card-bg: linear-gradient(
      135deg,
      rgba(255, 255, 255, 0.82) 0%,
      rgba(255, 255, 255, 0.72) 50%,
      rgba(124, 58, 237, 0.05) 100%
    );
    --card-shadow:
      0 0 0 1px rgba(124, 58, 237, 0.08),
      0 1px 2px 0 rgba(0, 0, 0, 0.06),
      0 8px 32px -4px rgba(124, 58, 237, 0.1),
      0 16px 48px -8px rgba(0, 0, 0, 0.08);
    --card-backdrop: blur(24px) saturate(1.4);

    /* Toggle depth tokens (light) */
    --toggle-track-inset-shadow:
      inset 0 2px 4px rgba(0, 0, 0, 0.12), inset 0 1px 2px rgba(0, 0, 0, 0.08);
    --toggle-track-active-bg: linear-gradient(
      135deg,
      #7c3aed 0%,
      #6d28d9 50%,
      #0891b2 100%
    );
    --toggle-track-active-shadow:
      inset 0 2px 4px rgba(0, 0, 0, 0.1), 0 0 12px rgba(124, 58, 237, 0.2),
      0 0 4px rgba(124, 58, 237, 0.12);
    --toggle-thumb-shadow:
      0 1px 3px rgba(0, 0, 0, 0.12), 0 2px 6px rgba(0, 0, 0, 0.08),
      0 0 0 0.5px rgba(0, 0, 0, 0.05);
    --toggle-thumb-highlight: inset 0 1px 0 0 rgba(255, 255, 255, 0.9);

    /* Toast glass tokens (light) */
    --toast-glass-bg: linear-gradient(
      135deg,
      rgba(255, 255, 255, 0.96) 0%,
      rgba(255, 255, 255, 0.92) 50%,
      rgba(124, 58, 237, 0.04) 100%
    );
    --toast-inner-highlight: 0 1px 0 0 rgba(255, 255, 255, 0.8) inset;
    --toast-icon-success-bg: rgba(22, 163, 74, 0.1);
    --toast-icon-success-border: rgba(22, 163, 74, 0.2);
    --toast-icon-error-bg: rgba(220, 38, 38, 0.1);
    --toast-icon-error-border: rgba(220, 38, 38, 0.2);
    --toast-icon-loading-bg: rgba(124, 58, 237, 0.08);
    --toast-icon-loading-border: rgba(124, 58, 237, 0.15);

    --tooltip-shadow:
      0 0 0 1px rgba(124, 58, 237, 0.08), 0 8px 24px rgba(0, 0, 0, 0.14),
      0 2px 8px rgba(124, 58, 237, 0.06);

    /* Particle system (light) */
    --particle-1: rgba(124, 58, 237, 0.4);
    --particle-2: rgba(109, 40, 217, 0.3);
    --particle-3: rgba(139, 92, 246, 0.3);
    --particle-4: rgba(91, 33, 182, 0.25);
    --particle-5: rgba(196, 181, 253, 0.2);
    --particle-stroke-rgb: 124, 58, 237;

    --bg-blur:
      radial-gradient(
        ellipse at 50% 0%,
        rgba(124, 58, 237, 0.06) 0%,
        transparent 60%
      ),
      linear-gradient(
        180deg,
        rgba(240, 244, 248, 0.7),
        rgba(240, 244, 248, 0.88)
      );
  }
}

/* ─── Animated background orb keyframes ─── */
@keyframes orb-drift-1 {
  0%,
  100% {
    transform: translate3d(0, 0, 0);
  }
  25% {
    transform: translate3d(5vw, 3vh, 0);
  }
  50% {
    transform: translate3d(-3vw, 6vh, 0);
  }
  75% {
    transform: translate3d(4vw, -2vh, 0);
  }
}

@keyframes orb-drift-2 {
  0%,
  100% {
    transform: translate3d(0, 0, 0);
  }
  25% {
    transform: translate3d(-4vw, -3vh, 0);
  }
  50% {
    transform: translate3d(5vw, -5vh, 0);
  }
  75% {
    transform: translate3d(-3vw, 4vh, 0);
  }
}

@keyframes orb-drift-3 {
  0%,
  100% {
    transform: translate3d(0, 0, 0);
  }
  25% {
    transform: translate3d(3vw, -4vh, 0);
  }
  50% {
    transform: translate3d(-2vw, 3vh, 0);
  }
  75% {
    transform: translate3d(-4vw, -3vh, 0);
  }
}

@keyframes cta-pulse {
  0%,
  100% {
    box-shadow: var(--cta-idle-glow);
  }
  50% {
    box-shadow:
      0 0 40px rgba(167, 139, 250, 0.25),
      0 0 100px rgba(6, 182, 212, 0.12);
  }
}

.cta-ready-pulse {
  animation: cta-pulse 3s ease-in-out infinite;
}

@media (prefers-reduced-motion: reduce) {
  .bg-orb {
    animation: none !important;
  }
  .cta-ready-pulse {
    animation: none !important;
  }
}

/* Scrollbar */
::-webkit-scrollbar {
  width: 3px;
}

::-webkit-scrollbar-track {
  background: var(--color-scrollbar-track);
  padding-left: 2px;
  border-radius: 0.5rem;
  transition: background 300ms ease-in-out;
}

::-webkit-scrollbar-track:hover {
  background: var(--color-scrollbar-track-hover);
}

::-webkit-scrollbar-thumb {
  background: var(--color-scrollbar-thumb);
  border-radius: 0.5rem;
  border: 5px solid transparent;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--color-accent-muted);
}

@layer utilities {
  .focus-ring {
    @apply outline-none focus-visible:ring-2 focus-visible:ring-offset-2;
    --tw-ring-color: var(--color-focus-ring);
    --tw-ring-offset-color: var(--color-surface);
  }

  .input-focus-glow:focus-within {
    box-shadow: var(--input-focus-glow);
    border-color: var(--color-accent-border);
  }
}

/* React hot toast */
#_rht_toaster [role="status"] {
  justify-content: unset;
}
